<!DOCTYPE html>
<html lang="en" ng-app ng-controller="data">
  <head>
    <title>Bitcoin Mining Calculator</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
    <script src="js/angular.min.js"></script>
    <script src="js/app.js"></script>
    <script src="js/Chart.min.js"></script>
    <link rel="stylesheet" href="css/animate.min.css">
    <link rel="stylesheet" href="css/style.css">

    <script src="js/chartdata.js"></script>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/css/bootstrap.min.css">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta charset="utf-8">
  </head>

<body>
    <div class="container-fluid outerdiv">
        <div class="row">
            <div class="animated zoomInRight col-md-6">
                <div id="userInput">
                    <table>
                        <tr>
                            <th>Your Hashrate:</th>
                            <td>
                                <input type="text" ng-model="userHash" ng-change="computeProfits()" placeholder="your hashrate GH/s" />
                                <select ng-model="userHashSuffix" ng-change="computeProfits()">
                                <option value="GH" selected="selected" ng-init="userHashSuffix = 'GH'">GH/s</option>
                                <option value="TH">TH/s</option>
                                <option value="PH">PH/s</option>
                                </select>
                            </td>
                        </tr>
                        <tr>
                            <th>Network Difficulty:</th>
                            <td><input type="text" ng-model="difficulty" ng-change="computeProfits()"/></td>
                        </tr>
                        <tr>
                            <th>BTC Price:</th>
                            <td><input type="text" ng-model="price" ng-change="computeProfits()"/>
                                <select ng-model="currency" ng-change="fetchPriceOnly()">
                                <option value="USD" ng-init="currencyCode = 'USD'">USD</option>
                                <option value="CNY">CNY</option>
                                <option value="CAD">CAD</option>
                            </td>
                        </tr>
                        <tr>
                            <th>Block Reward:</th>
                            <td><input type="text" ng-model="reward" ng-change="computeProfits()"/> BTC</td>
                        </tr>
                        <tr>
                            <th>Power Consumption:</th>
                            <td><input type="text" ng-model="wattage" ng-change="computeProfits()" ng-init="wattage = 0"/>
                                <select ng-model="powerSuffix" ng-change="computeProfits()">
                                <option value="W" selected="powerSuffix" ng-init="powerSuffix = 'W'">W</option>
                                <option value="kW">kW</option>
                                </select>
                            </td>
                        </tr>
                        <tr>
                            <th>Power Cost:</th>
                            <td><input type="text" ng-model="powerCost" ng-change="computeProfits()" ng-init="powerCost = 0"/>{{ currency }} / kWh</td>
                        </tr>
                        <tr>
                            <th>Pool Fee</th>
                            <td><input type="text" ng-model="poolFee" ng-change="computeProfits()" ng-init="poolFee = 0"/> %</td>
                        </tr>
                        <tr>
                            <th>Difficulty Increase</th>
                            <td><input type="text" ng-model="nextDifficulty" ng-change="computeProfits()" ng-init="nextDifficulty = 10"/> %</td>
                        </tr>
                    </table>
                    <h2>This Difficulty</h2>
                <table>
                    <thead>
                        <tr>
                            <th>Period</th>
                            <th>BTC</th>
                            <th>{{currency}}</th>
                            <th>Power Cost ({{currency}})</th>
                            <th>Pool Fees ({{currency}})</th>
                            <th>Profit ({{currency}})</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Hourly</td>
                            <td>{{values[0][0]|number:6}}</td>
                            <td>{{values[1][0]|currency}}</td>
                            <td>{{values[2][0]|currency}}</td>
                            <td>{{values[3][0]|currency}}</td>
                            <td ng-class="{negative: values[4][0] < 0}">{{values[4][0]|currency}}</td>
                        </tr>
                        <tr>
                            <td>Daily</td>
                            <td>{{values[0][1]|number:6}}</td>
                            <td>{{values[1][1]|currency}}</td>
                            <td>{{values[2][1]|currency}}</td>
                            <td>{{values[3][1]|currency}}</td>
                            <td ng-class="{negative: values[4][1] < 0}">{{values[4][1]|currency}}</td>
                        </tr>
                        <tr>
                            <td>Weekly</td>
                            <td>{{values[0][2]|number:6}}</td>
                            <td>{{values[1][2]|currency}}</td>
                            <td>{{values[2][2]|currency}}</td>
                            <td>{{values[3][2]|currency}}</td>
                            <td ng-class="{negative: values[4][2] < 0}">{{values[4][2]|currency}}</td>
                        </tr>
                        <tr>
                            <td>Monthly</td>
                            <td>{{values[0][3]|number:6}}</td>
                            <td>{{values[1][3]|currency}}</td>
                            <td>{{values[2][3]|currency}}</td>
                            <td>{{values[3][3]|currency}}</td>
                            <td ng-class="{negative: values[4][3] < 0}">{{values[4][3]|currency}}</td>
                        </tr>
                    </tbody>
                </table>
                <h2>Next Difficulty</h2>
                <table>
                    <thead>
                        <tr>
                            <th>Period</th>
                            <th>BTC</th>
                            <th>{{currency}}</th>
                            <th>Power Cost ({{currency}})</th>
                            <th>Pool Fees ({{currency}})</th>
                            <th>Profit ({{currency}})</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Hourly</td>
                            <td>{{values[5][0]|number:6}}</td>
                            <td>{{values[6][0]|currency}}</td>
                            <td>{{values[2][0]|currency}}</td>
                            <td>{{values[7][0]|currency}}</td>
                            <td ng-class="{negative: values[8][0] < 0}">{{values[8][0]|currency}}</td>
                        </tr>
                        <tr>
                            <td>Daily</td>
                            <td>{{values[5][1]|number:6}}</td>
                            <td>{{values[6][1]|currency}}</td>
                            <td>{{values[2][1]|currency}}</td>
                            <td>{{values[7][1]|currency}}</td>
                            <td ng-class="{negative: values[8][1] < 0}">{{values[8][1]|currency}}</td>
                        </tr>
                        <tr>
                            <td>Weekly</td>
                            <td>{{values[5][2]|number:6}}</td>
                            <td>{{values[6][2]|currency}}</td>
                            <td>{{values[2][2]|currency}}</td>
                            <td>{{values[7][2]|currency}}</td>
                            <td ng-class="{negative: values[8][2] < 0}">{{values[8][2]|currency}}</td>
                        </tr>
                        <tr>
                            <td>Monthly</td>
                            <td>{{values[5][3]|number:6}}</td>
                            <td>{{values[6][3]|currency}}</td>
                            <td>{{values[2][3]|currency}}</td>
                            <td>{{values[7][3]|currency}}</td>
                            <td ng-class="{negative: values[8][3] < 0}">{{values[8][3]|currency}}</td>
                        </tr>
                    </tbody>
                </table>
                </div>
            </div>
            <div class="col-md-6">
                <canvas id="myChart" width="250" height="250"></canvas><br/>
                Time Frame:
                <input type="text" ng-model="timeFrame" size="4" ng-init="timeFrame = 12" ng-change="drawChart()"/> Months
            </div>
        </div>
    </div>
</body>
</html>